<?xml version="1.0"?>
<launch>

  <arg name="map2d" default="$(find xj_robot_slam)/map/scans.yaml"/>
  <arg name="map3d" default="$(find fast_lio_sam)/PCD/GlobalMap.pcd"/>

  <arg name="rviz_loca" default="false"/>
  <arg name="rviz_hdl" default="true"/>

  <node pkg="map_server" type="map_server" name="map_server" args="$(arg map2d)"/>

  <include file="$(find xj_robot_slam)/launch/simulation/sim_hdl_localization.launch">
    <arg name="rviz" value="$(arg rviz_hdl)" />
    <arg name="map3d" value="$(arg map3d)" />
  </include>

  <group if="$(arg rviz_loca)">
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find xj_robot_slam)/rviz/amcl3d.rviz"/>
  </group>

</launch>
